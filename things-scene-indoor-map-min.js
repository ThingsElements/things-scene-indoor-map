!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=scene,i=o.Component,a=o.RectPath,s={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"z-pos",name:"zPos",property:"zPos"},{type:"string",label:"mac-address",name:"macAddr",property:"macAddress"},{type:"string",label:"identifier",name:"identifier",property:"identifier"},{type:"string",label:"uuid",name:"uuid",property:"uuid"},{type:"number",label:"major",name:"major",property:"major"},{type:"number",label:"minor",name:"minor",property:"minor"}]},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a(i)),r(t,[{key:"render",value:function(e){this.model.fillStyle={type:"pattern",fitPattern:!0,image:"data:image/png;base64,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"},this.drawFill(e)}},{key:"is3dish",value:function(){return!0}},{key:"nature",get:function(){return s}},{key:"controls",get:function(){}}]),t}();n.default=u,i.register("beacon",u)},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./quaternion"),a=(r=i)&&r.__esModule?r:{default:r};var s=scene,u=s.Component,l=s.RectPath,c={props:[]},f=[{x:0,y:0,z:0},{x:-50,y:100,z:-100},{x:50,y:100,z:-100},{x:50,y:-100,z:-100},{x:-50,y:-100,z:-100},{x:0,y:0,z:-100},{x:0,y:50,z:-100}];var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l(u)),o(t,[{key:"render",value:function(e){var t=this.transformed;this.transformed[5].z>0?(this.__drawLines(e,t),this.__drawRect(e,t)):(this.__drawRect(e,t),this.__drawLines(e,t))}},{key:"__drawLines",value:function(e,t){var n=this.center;e.beginPath(),e.moveTo(n.x+t[0].x,n.y-t[0].y),e.lineTo(n.x+t[1].x,n.y-t[1].y),e.moveTo(n.x+t[0].x,n.y-t[0].y),e.lineTo(n.x+t[2].x,n.y-t[2].y),e.moveTo(n.x+t[0].x,n.y-t[0].y),e.lineTo(n.x+t[3].x,n.y-t[3].y),e.moveTo(n.x+t[0].x,n.y-t[0].y),e.lineTo(n.x+t[4].x,n.y-t[4].y),e.strokeStyle=this.model.strokeStyle,e.stroke(),e.closePath()}},{key:"__drawRect",value:function(e,t){var n=this.center;e.beginPath(),e.moveTo(n.x+t[1].x,n.y-t[1].y),e.lineTo(n.x+t[2].x,n.y-t[2].y),e.lineTo(n.x+t[3].x,n.y-t[3].y),e.lineTo(n.x+t[4].x,n.y-t[4].y),e.lineTo(n.x+t[1].x,n.y-t[1].y),e.fillStyle=this.model.fillStyle,e.strokeStyle=this.model.strokeStyle,e.fill(),e.stroke(),e.beginPath(),e.ellipse(n.x+t[6].x,n.y-t[6].y,5,5,0,0,2*Math.PI),e.stroke()}},{key:"onchange",value:function(e,t){if(e.hasOwnProperty("data")){var n=e.data;if(!n.hasOwnProperty("yaw")&&!n.hasOwnProperty("pitch")&&!n.hasOwnProperty("roll"))return;this.set({yaw:n.yaw,pitch:n.pitch,roll:n.roll})}else if(e.hasOwnProperty("yaw")||e.hasOwnProperty("pitch")||e.hasOwnProperty("roll")){var r=this,o=e.yaw-t.yaw,i=e.pitch-t.pitch,a=e.roll-t.roll;this._anim_alpha_yaw=o,this._anim_alpha_pitch=i,this._anim_alpha_roll=a,this.animate({step:function(e){r._anim_alpha_yaw=o*(1-e),r._anim_alpha_pitch=i*(1-e),r._anim_alpha_roll=a*(1-e),r.invalidate()},duration:1e3,delta:"circ",options:{x:1},ease:"inout"}).start()}}},{key:"transformed",get:function(){var e,t,n,r,o,i,s,u=this.model,l=u.yaw,c=void 0===l?0:l,p=u.pitch,y=void 0===p?0:p,h=u.roll,d=void 0===h?0:h;return e=f,t=y-(this._anim_alpha_pitch||0),n=d-(this._anim_alpha_roll||0),r=c-(this._anim_alpha_yaw||0),o=a.default.fromAxis({x:1,y:0,z:0},t),i=a.default.fromAxis({x:0,y:1,z:0},n),s=a.default.fromAxis({x:0,y:0,z:1},r).multiply(i).multiply(o),e.map(function(e){return s.multiVec(e)})}}],[{key:"nature",get:function(){return c}}]),t}();n.default=p,u.register("camera",p)},{"./quaternion":6}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=scene,i=o.Component,a=o.Container,s=(o.CardLayout,o.Model),u={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"action",label:"remove",name:"remove",property:{icon:"remove-circle",action:function(e){var t=e.parent;t.removeComponent(e),t.activeIndex=0,t.invalidate()}}}]},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"drawLocationMarkers",value:function(e){for(var t in e){var n=e[t],r=n.props||{};if(r.width=r.width||10,r.height=r.height||10,(new Date).getTime()-n.lastUpdateTime<n.updateInterval){var o=this.findById(t);if(o)for(var i in o.set(r),r)o[i]=r[i];else{var a=Object.assign({type:n.type||"rect",id:t,fillStyle:"red",left:r.center.x-.5*r.width,top:r.center.y-.5*r.height,cx:r.center.x,cy:r.center.y},r),u=s.compile(a);this.addComponent(u)}}else{var l=this.findById(t);this.removeComponent(l)}this.invalidate()}}},{key:"simulate",value:function(e){var t=[];for(var n in this.components)if("beacon"==this.components[n].model.type){var r=this.components[n];r.distance=Math.sqrt(Math.pow(r.center.x-e.x,2)+Math.pow(r.center.y-e.y,2)),r.gaussian=gaussian(r.model.txPower||-71,Math.pow(3.209,2)),r.txPower=r.gaussian.ppf(Math.random()),t.push(r)}t=t.slice(0),this.calculatePosition(t,e)}},{key:"calculatePosition",value:function(e,t){var n=e;n.sort(function(e,t){var n=-10*Math.log10(e.distance)+e.txPower,r=-10*Math.log10(t.distance)+t.txPower;return Math.abs(n)-Math.abs(r)});var r=this.k_combinations(n.slice(0,4),3),o=[];for(var i in r){var a=r[i],u=a[0],l=a[1],c=a[2],f=u.center.x,p=u.center.y,y=l.center.x,h=l.center.y,d=c.center.x,v=c.center.y,b=u.distance,m=l.distance,g=c.distance,x=-10*Math.log10(.01*u.distance)+u.txPower,w=-10*Math.log10(.01*l.distance)+l.txPower,k=-10*Math.log10(.01*c.distance)+c.txPower,O=f*f,P=y*y,j=p*p,A=h*h,M=(b=100*this.calculateDistance(u.txPower,x))*b,z=(m=100*this.calculateDistance(l.txPower,w))*m,I=((y-f)*(d*d+v*v-(g=100*this.calculateDistance(c.txPower,k))*g)+(f-d)*(P+A-z)+(d-y)*(O+j-M))/(2*(v*(y-f)+h*(f-d)+p*(d-y))),X=(z-M+O-P+j-A-2*(p-h)*I)/(2*(f-y));Number.isFinite(X)&&Number.isFinite(I)&&o.push({x:X,y:I})}var S=this.averageOfPositions(o);this._simPosition&&this.removeComponent(this._simPosition),this._simPosition=s.compile({type:"ellipse",cx:S.x,cy:S.y,rx:10,ry:10,fillStyle:"navy"}),this.addComponent(this._simPosition)}},{key:"calculateDistance",value:function(e,t){if(0==t)return-1;var n=1*t/e;return n<1?Math.pow(n,10):.89976*Math.pow(n,7.7095)+.111}},{key:"calculateAngle",value:function(e,t,n){var r=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2),o=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2),i=Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2);return Math.acos((r+o-i)/Math.sqrt(4*r*o))}},{key:"averageOfPositions",value:function(e){var t=0,n=0;for(var r in e){var o=e[r];t+=o.x,n+=o.y}return{x:t/e.length,y:n/e.length}}},{key:"k_combinations",value:function(e,t){var n,r,o,i,a;if(t>e.length||t<=0)return[];if(t==e.length)return[e];if(1==t){for(o=[],n=0;n<e.length;n++)o.push([e[n]]);return o}for(o=[],n=0;n<e.length-t+1;n++)for(i=e.slice(n,n+1),a=this.k_combinations(e.slice(n+1),t-1),r=0;r<a.length;r++)o.push(i.concat(a[r]));return o}},{key:"onclick",value:function(e){}},{key:"hasTextProperty",get:function(){return!1}},{key:"showMoveHandle",get:function(){return!1}},{key:"mutable",get:function(){return!1}},{key:"resizable",get:function(){return!1}},{key:"rotatable",get:function(){return!1}},{key:"nature",get:function(){return u}}]),t}();n.default=l,i.register("floor",l)},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./floor");Object.defineProperty(n,"Floor",{enumerable:!0,get:function(){return l(r).default}});var o=e("./indoor-map");Object.defineProperty(n,"IndoorMap",{enumerable:!0,get:function(){return l(o).default}});var i=e("./rack");Object.defineProperty(n,"Rack",{enumerable:!0,get:function(){return l(i).default}});var a=e("./beacon");Object.defineProperty(n,"Beacon",{enumerable:!0,get:function(){return l(a).default}});var s=e("./camera");Object.defineProperty(n,"Camera",{enumerable:!0,get:function(){return l(s).default}});var u=e("./quaternion");function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"Quaternion",{enumerable:!0,get:function(){return l(u).default}})},{"./beacon":1,"./camera":2,"./floor":3,"./indoor-map":5,"./quaternion":6,"./rack":7}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=e("./floor");(r=a)&&r.__esModule;var s=scene,u=s.Component,l=s.Container,c=s.CardLayout,f=s.Model;var p={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"action",label:"floor",name:"floor",property:{icon:"add-circle",action:function(e){e.addFloor()}}}],"value-property":"activeIndex"},y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),o(t,[{key:"postrender",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postrender",this).call(this,e),!this.app.isViewMode&&this._focused)for(var n=this.model,r=n.left,o=n.top,a=(n.width,n.fillStyle,0);a<this.components.length;a++){e.beginPath(),e.rect(r-25,o+25*a,25,25);var s=255-20*(a+1)%255;e.fillStyle="rgba("+s+", "+s+", "+s+", "+1+")",e.fill(),e.closePath()}}},{key:"contains",value:function(e,n){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"contains",this).call(this,e,n);if(this.app.isViewMode)return r;var o=this.bounds,a=o.left,s=o.top;o.width,o.height;return r=r||e<Math.max(a-25,a)&&e>Math.min(a-25,a)&&n<Math.max(s+25*this.size(),s)&&n>Math.min(s+25*this.size(),s),this._focused=!!r,this.invalidate(),r}},{key:"onmouseup",value:function(e){var t=this.__down_point;if(delete this.__down_point,t&&t.x==e.offsetX&&t.y==e.offsetY){var n=this.transcoordC2S(e.offsetX,e.offsetY),r=this.model,o=r.left,i=r.top,a=n.x-o,s=n.y-i;if(!(a>0||(s/=25,s=Math.floor(s),this.layoutConfig||(this.layoutConfig={}),s>=this.components.length))){var u=Object.assign({},this.layoutConfig);u.activeIndex=s,this.set("layoutConfig",u)}}}},{key:"onmousedown",value:function(e){this.__down_point={x:e.offsetX,y:e.offsetY}}},{key:"addFloor",value:function(){var e=f.compile({type:"floor",fillStyle:"gray",top:0,left:0,width:100,height:100});this.addComponent(e)}},{key:"drawLocationMarkers",value:function(e){this.activeFloor.drawLocationMarkers(e)}},{key:"nature",get:function(){return p}},{key:"layout",get:function(){return c}},{key:"activeIndex",set:function(e){var t=Object.assign({},this.layoutConfig);t.activeIndex=e,this.set("layoutConfig",t)}},{key:"activeFloor",get:function(){return this.components[this.get("layoutConfig").activeIndex]}}]),t}();n.default=y,u.register("indoor-map",y)},{"./floor":3}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0,this.z=r||0,this.w=void 0===o?1:o}return r(e,[{key:"multiply",value:function(t){var n=this.x,r=this.y,o=this.z,i=this.w,a=t.x,s=t.y,u=t.z,l=t.w;return new e(n*l+r*u-o*s+i*a,-n*u+r*l+o*a+i*s,n*s-r*a+o*l+i*u,-n*a-r*s-o*u+i*l)}},{key:"add",value:function(t,n,r,o){var i=this.x,a=this.y,s=this.z,u=this.w;return isNaN(t)?t.add(i,a,s,u):void 0===n?new e(i,a,s,u+t):new e(i+t,a+n,s+r,u+o)}},{key:"multiVec",value:function(e){var t=this.x,n=this.y,r=this.z,o=this.w,i=o*e.x+n*e.z-r*e.y,a=o*e.y+r*e.x-t*e.z,s=o*e.z+t*e.y-n*e.x,u=-t*e.x-n*e.y-r*e.z;return{x:i*o+u*-t+a*-r-s*-n,y:a*o+u*-n+s*-t-i*-r,z:s*o+u*-r+i*-n-a*-t}}},{key:"toString",value:function(){return"[x="+this.x+", y="+this.y+", z="+this.z+", w="+this.w+"]"}},{key:"coords",get:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}},{key:"array",get:function(){return[this.x,this.y,this.z,this.w]}},{key:"inverse",get:function(){return new e(-this.x,-this.y,-this.z)}},{key:"size",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"norm",get:function(){var t=this.size;return 0===t?new e(0,0,0,0):new e(this.x/t,this.y/t,this.z/t,this.w/t)}}],[{key:"fromAxis",value:function(t,n){var r=n/2,o=Math.sin(r);return new e(t.x*o,t.y*o,t.z*o,Math.cos(r))}},{key:"fromEuler",value:function(t){var n=1*t.x,r=1*t.y,o=1*t.z,i=Math.cos(r),a=Math.sin(r),s=Math.cos(-o),u=Math.sin(-o),l=Math.cos(n),c=Math.sin(n),f=i*s,p=a*u;return new e(f*c+p*l,a*s*l+i*u*c,i*u*l-a*s*c,f*l-p*c)}}]),e}();n.default=o},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=scene,i=o.Component,a=o.RectPath,s={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"},{type:"number",label:"shelves",name:"shelves",property:"shelves"},{type:"string",label:"location-pattern",name:"locPattern",placeholder:"{z}{s}-{u}-{sh}",property:"locPattern"},{type:"string",label:"zone",name:"zone",property:"zone"},{type:"string",label:"section",name:"section",property:"section"},{type:"string",label:"unit",name:"unit",property:"unit"},{type:"string",label:"shelf-pattern",name:"shelfPattern",placeholder:"#",property:"shelfPattern"}]},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a(i)),r(t,[{key:"is3dish",value:function(){return!0}},{key:"draw",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.width,i=t.height,a=t.strokeStyle,s=t.lineWidth,u=t.fillStyle,l=t.alpha,c=void 0===l?1:l;e.beginPath(),e.rect(n,r,o,i),e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=.4*c,e.stroke(),e.beginPath(),e.rect(n+.15*o,r+.15*i,.7*o,.7*i),e.fillStyle=u,e.globalAlpha=.5*c,e.fill(),e.beginPath(),e.moveTo(n,r),e.lineTo(n+o,r+i),e.moveTo(n,r+i),e.lineTo(n+o,r),e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=.4*c,e.stroke()}},{key:"nature",get:function(){return s}},{key:"hasTextProperty",get:function(){return!1}}]),t}();n.default=u,i.register("rack",u)},{}]},{},[4]);